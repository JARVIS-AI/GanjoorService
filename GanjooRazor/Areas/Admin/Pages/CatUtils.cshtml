@page
@model GanjooRazor.Areas.Admin.Pages.CatUtilsModel
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@{
    Layout = "_AdminLayout";
    ViewData["Title"] = "مدیریت بخش";
}

<h1>@ViewData["Title"]</h1>

@if (!string.IsNullOrEmpty(Model.LastMessage))
{
    <p>
        @Model.LastMessage
    </p>
}

<h2>زیربخش‌ها</h2>
<table>
    @foreach (var cat in Model.Cat.Cat.Children)
    {
        <tr>
            <td>
                <a href="/Admin/CatUtils?url=@cat.FullUrl">@cat.Title</a>
            </td>
        </tr>
    }
</table>


<h2>اشعار بخش</h2>
<table>
    @foreach (var poem in Model.Cat.Cat.Poems)
    {
        <tr>
            <td>
                <a href="/Admin/ModifyPage?id=@poem.Id">@poem.Title</a>
            </td>
            <td>
                @poem.Excerpt
            </td>
        </tr>
    }
</table>

<h2>تغییر عنوان گروهی</h2>
<form method="post">
    <table>
        <tr>
            <td>
                شروع عنوان:
            </td>
            <td>
                <input asp-for="NamingModel.StartWithNotIncludingSpaces" />
            </td>
        </tr>
        <tr>
            <td>
                کاراکترهای حذفی از عنوان
            </td>
            <td>
                <input asp-for="NamingModel.RemoveSetOfCharacters" />
            </td>
        </tr>
        <tr>
            <td>
                حذف الگوی قبلی از عنوان
            </td>
            <td>
                <input asp-for="NamingModel.RemoveSetOfCharacters" />
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <input type="submit" value="تغییر نام گروهی" />
            </td>
        </tr>
    </table>
</form>

<a href="/Admin/ModifyPage?id=@Model.PageInformation.Id">ویرایش صفحهٔ متناظر</a>

